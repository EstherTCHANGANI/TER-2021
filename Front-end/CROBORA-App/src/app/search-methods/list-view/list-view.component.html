<div class="spinner" *ngIf="this.httpService.isRequestLoading()">
  <mat-spinner></mat-spinner>
</div>
<cdk-virtual-scroll-viewport itemSize="20" class="viewport-scroll">
<div class="listview-box">
    <mat-accordion multi>
    <ng-container *cdkVirtualFor="let file of getFilesByDB(); TemplateCacheSize:0">
    <mat-expansion-panel >
      <mat-expansion-panel-header>
        <mat-panel-title (click)="$event.stopPropagation()">
          <mat-icon>article</mat-icon>
          <h3 routerLink="/file-details/{{file.id}}" [state]="{ file: file }" matTooltip="See more details" matTooltipPosition="right">
            {{ file.titre }}</h3>
        </mat-panel-title>
        <mat-panel-description></mat-panel-description>
      </mat-expansion-panel-header>
      <div class="clusters-container">
        <mat-list class="eventClusters" >
          <mat-list-item *ngFor="let cluster of file.evenement"><mat-icon>event</mat-icon>{{cluster}}</mat-list-item>
        </mat-list>
        <mat-divider class="eventDivider" ></mat-divider>
        <mat-list class="personalityClusters" >
          <mat-list-item *ngFor="let cluster of file.personnalite"><mat-icon>emoji_people</mat-icon>{{cluster}}</mat-list-item>
        </mat-list>
        <mat-divider class="personalityDivider" ></mat-divider>
        <mat-list class="placeClusters" >
          <mat-list-item *ngFor="let cluster of file.lieu"><mat-icon>home</mat-icon>{{cluster}}</mat-list-item>
        </mat-list>
        <mat-divider class="placeDivider" ></mat-divider>
        <mat-list class="illustrationClusters" >
          <mat-list-item *ngFor="let cluster of file.illustration"><mat-icon>auto_stories</mat-icon>{{cluster}}</mat-list-item>
        </mat-list>
      </div>
    </mat-expansion-panel>
  </ng-container>
  </mat-accordion>
</div>
</cdk-virtual-scroll-viewport>
