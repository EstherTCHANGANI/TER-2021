<div class="spinner" *ngIf="this.httpService.isRequestLoading()">
  <mat-spinner></mat-spinner>
</div>
<div class="listview-box">
  <mat-accordion multi *ngIf="eventChecked || personalityChecked || placeChecked || illustrationChecked">
    <mat-expansion-panel *ngFor="let file of getFilesByDB()">
      <mat-expansion-panel-header>
        <mat-panel-title (click)="$event.stopPropagation()">
          <mat-icon>article</mat-icon>
          <h3 routerLink="/file-details/{{file.id}}" [state]="{ file: file }" matTooltip="See more details" matTooltipPosition="right">
            {{ file.titre }}</h3>
        </mat-panel-title>
        <mat-panel-description></mat-panel-description>
      </mat-expansion-panel-header>
      <div class="clusters-container">
        <mat-list class="eventClusters" *ngIf="eventChecked">
          <mat-list-item *ngFor="let cluster of file.evenement"><mat-icon>event</mat-icon>{{cluster}}</mat-list-item>
        </mat-list>
        <mat-divider class="eventDivider" *ngIf="eventChecked"></mat-divider>
        <mat-list class="personalityClusters" *ngIf="personalityChecked">
          <mat-list-item *ngFor="let cluster of file.personnalite"><mat-icon>emoji_people</mat-icon>{{cluster}}</mat-list-item>
        </mat-list>
        <mat-divider class="personalityDivider" *ngIf="personalityChecked"></mat-divider>
        <mat-list class="placeClusters" *ngIf="placeChecked">
          <mat-list-item *ngFor="let cluster of file.lieu"><mat-icon>home</mat-icon>{{cluster}}</mat-list-item>
        </mat-list>
        <mat-divider class="placeDivider" *ngIf="placeChecked"></mat-divider>
        <mat-list class="illustrationClusters" *ngIf="illustrationChecked">
          <mat-list-item *ngFor="let cluster of file.illustration"><mat-icon>auto_stories</mat-icon>{{cluster}}</mat-list-item>
        </mat-list>
        <mat-divider class="illustrationDivider" *ngIf="illustrationChecked"></mat-divider>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</div>
