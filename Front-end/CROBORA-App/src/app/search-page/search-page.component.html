<div class="top-container">
  <div class="filters-container">
    <app-search-filters
      [eventChecked]="eventChecked" [personalityChecked]="personalityChecked" [placeChecked]="placeChecked" [illustrationChecked]="illustrationChecked"
      (showTypeEvent)="renameFirstTab($event)">
    </app-search-filters>
    <div class="cluster-div" *ngIf="this.filterService.getSelectedSearchType() === 'cluster'">
      <mat-checkbox class="Event" (change)="toggleEventCheckbox($event)" [checked]="eventChecked">Event</mat-checkbox>
      <mat-checkbox class="Personality" (change)="togglePersonalityCheckbox($event)" [checked]="personalityChecked">Personality</mat-checkbox>
      <mat-checkbox class="Place" (change)="togglePlaceCheckbox($event)" [checked]="placeChecked">Place</mat-checkbox>
      <mat-checkbox class="Illustration" (change)="toggleIllustrationCheckbox($event)" [checked]="illustrationChecked">Illustration</mat-checkbox>
    </div>
  </div>
  <div id="user-icon">
    <span>John Doe</span>
    <img src="../../assets/images/profil.png" alt="icone de profil">
  </div>
</div>

<div class="flex-container">
  <mat-tab-group>
    <mat-tab label="{{listViewName}}">
      <ng-template matTabContent>
      <div class="filter-types-container">
      <!--<div class="show filter-types">
          <h2>Show:</h2>
          <mat-form-field appearance="outline">
              <mat-select [(value)]="selectedShowType" (selectionChange)="onShowTypeChange()">
                <mat-option *ngFor="let showType of showTypes" [value]="showType.value">
                  {{showType.viewValue}}
                </mat-option>
              </mat-select>
          </mat-form-field>
      </div>-->
      <div class="sortBy filter-types">
        <h2>Sort by:</h2>
        <mat-form-field appearance="outline">
            <mat-select [(value)]="selectedSortType" (selectionChange)="onSortTypeChange()">
              <mat-option *ngFor="let sortType of sortTypes" [value]="sortType.value">
                {{sortType.viewValue}}
              </mat-option>
            </mat-select>
        </mat-form-field>
      </div>
    </div>
        <app-list-view id="list-view"
          [eventChecked]="eventChecked" [personalityChecked]="personalityChecked" [placeChecked]="placeChecked" [illustrationChecked]="illustrationChecked">
        </app-list-view>
      </ng-template>      
    </mat-tab>

    <mat-tab label="Cluster View">
      <ng-template matTabContent>
        <div class="filter-types-container">
          <div class="show filter-types">
              <h2>Show:</h2>
              <mat-form-field appearance="outline">
                  <mat-select [(value)]="selectedShowType" (selectionChange)="onShowTypeChange()">
                    <mat-option *ngFor="let showType of showTypes" [value]="showType.value">
                      {{showType.viewValue}}
                    </mat-option>
                  </mat-select>
              </mat-form-field>
          </div>
          <div class="sortBy filter-types">
            <h2>Sort by:</h2>
            <mat-form-field appearance="outline">
                <mat-select [(value)]="selectedSortType" (selectionChange)="onSortTypeChange()">
                  <mat-option *ngFor="let sortType of sortTypes" [value]="sortType.value">
                    {{sortType.viewValue}}
                  </mat-option>
                </mat-select>
            </mat-form-field>
          </div>
        </div>
        <app-cluster-view id="cluster-view"
          [eventChecked]="eventChecked" [personalityChecked]="personalityChecked" [placeChecked]="placeChecked" [illustrationChecked]="illustrationChecked">
        </app-cluster-view>
      </ng-template>
    </mat-tab>
    
    <mat-tab label="Thumbnails" disabled="true">
      <ng-template matTabContent>
        <app-distribution id="thumbnails"></app-distribution>
      </ng-template>
    </mat-tab>

    <mat-tab label="Treemaps">
      <ng-template matTabContent>
        <app-treemaps id="treemaps"></app-treemaps>
      </ng-template>
    </mat-tab>
    
    <mat-tab label="Distribution">
      <ng-template matTabContent>
        <app-distribution id="distribution"></app-distribution>
      </ng-template>
    </mat-tab>

  </mat-tab-group>
</div>
