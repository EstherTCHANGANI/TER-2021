<div class="container">
    <div class="database filter">
        <h2>Database:</h2>
        <mat-form-field appearance="outline">
            <mat-select [(value)]="selectedDatabase" (selectionChange)="onDatabaseChange()">
              <mat-option *ngFor="let database of databases" [value]="database.value">
                {{database.viewValue}}
              </mat-option>
            </mat-select>
        </mat-form-field>
    </div>
    <div class="searchBy filter">
      <h2>Search by:</h2>
      <mat-form-field appearance="outline">
          <mat-select [(value)]="selectedSearchType" (selectionChange)="onSearchTypeChange()">
            <mat-option *ngFor="let searchType of searchTypes" [value]="searchType.value">
              {{searchType.viewValue}}
            </mat-option>
          </mat-select>
      </mat-form-field>
    </div>
    <div class="searchBar filter" *ngIf="selectedSearchType === 'cluster'">
        <mat-form-field appearance="outline">
            <mat-label>Search by Clusters</mat-label>
            <input
            matInput type="text"
            placeholder="Enter a keyword"
            #clusterInput
            [matAutocomplete]="auto" 
            [formControl]="myControl"
            [matChipInputFor]="chipList"
            [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
            (matChipInputTokenEnd)="addChip($event)">
            <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selectedChip($event)">
              <ng-container *ngFor="let cluster of autocompleteCluster | async">
                <ng-container *ngIf="cluster.type == 'event';">
                  <mat-option class="event_autocomplete" [value]="cluster.value" (onSelectionChange)="getSelectedCluster(cluster, $event)">
                    <mat-icon>event</mat-icon>{{cluster.value}}
                  </mat-option>
                </ng-container>
                <ng-container *ngIf="cluster.type == 'celebrity';">
                  <mat-option class="celebrity_autocomplete" [value]="cluster.value" (onSelectionChange)="getSelectedCluster(cluster, $event)">
                    <mat-icon>emoji_people</mat-icon>{{cluster.value}}
                  </mat-option>
                </ng-container>
                <ng-container *ngIf="cluster.type == 'location';">
                  <mat-option class="location_autocomplete" [value]="cluster.value" (onSelectionChange)="getSelectedCluster(cluster, $event)">
                    <mat-icon>home</mat-icon>{{cluster.value}}
                  </mat-option>
                </ng-container>
                <ng-container *ngIf="cluster.type == 'illustration';">
                  <mat-option class="illustration_autocomplete" [value]="cluster.value" (onSelectionChange)="getSelectedCluster(cluster, $event)">
                    <mat-icon>auto_stories</mat-icon>{{cluster.value}}
                  </mat-option>        
                </ng-container>
              </ng-container>
            </mat-autocomplete>
            <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>
        <mat-chip-list #chipList aria-label="Cluster selection">
          <mat-chip
          *ngFor="let cluster of selectedClustersObjects"
          [selectable]="selectable"
          [removable]="removable"
          (removed)="removeChip(cluster)">
          {{cluster.value}}
          <mat-icon matChipRemove="removable">cancel</mat-icon>
          </mat-chip>
      </mat-chip-list>
    </div>
    <div class="searchBar filter" *ngIf="selectedSearchType === 'title'">
      <mat-form-field appearance="outline">
        <mat-label>Search by Titles</mat-label>
        <input matInput type="text" placeholder="Enter a title" #txtVal (keydown.enter)="onSearchByTitle(txtVal.value)">
        <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
    </div>
</div>